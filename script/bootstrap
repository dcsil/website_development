#!/bin/sh

# Exit if any subcommand fails
set -e

DIR=$PWD

RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[0;33m']
CLEAR_LINE='\r\033[K'

# pwd
echo "${RED}==> Installing nodejs and npm ======================================"
cd ~
curl -sL https://deb.nodesource.com/setup_16.x -o /tmp/nodesource_setup.sh
sudo bash /tmp/nodesource_setup.sh
sudo apt install nodejs
sudo apt install npm

echo "${CLEAR_LINE}==> Installing Python3.10 ==================================="
sudo apt install python3.10

# pwd
echo "${GREEN}==> Installing client npm dependencies ==========================="
npm install

# pwd
echo "${YELLOW}==> Installing server python dependencies ======================="
#python3 -m venv myvenv
#. myvenv/bin/activate
pip3 install -r requirements.txt
